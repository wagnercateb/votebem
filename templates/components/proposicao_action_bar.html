{% comment %}
  Reusable action bar for proposição-related actions.
  Buttons:
  - Obter votações da proposição: links to /gerencial/?proposicao_id=<id>
  - Votos oficiais: split button; main goes to the first item, dropdown lists all
    VotacaoVoteBem IDs with title tooltip from ProposicaoVotacao.descricao.
  - Editar votações VoteBem: links to /gerencial/votacao/<id>/edit/
  Usage:
    {% load voting_components %}
    {% proposicao_action_bar %}
    or override:
    {% proposicao_action_bar proposicao_id=2270800 %}
{% endcomment %}

<div class="d-flex flex-wrap align-items-center gap-2 my-3">
  {# Button: Obter votações da proposição #}
  {% if obter_votacoes_url %}
    <a href="{{ obter_votacoes_url }}" class="btn btn-outline-primary">
      <i class="bi bi-collection"></i> Obter votações da proposição
    </a>
  {% else %}
    <button class="btn btn-outline-primary" disabled title="Proposição não identificada">
      <i class="bi bi-collection"></i> Obter votações da proposição
    </button>
  {% endif %}

  {# Split Button: Votos oficiais #}
  <div class="btn-group">
    {% if main_votos_url %}
      <a href="{{ main_votos_url }}" class="btn btn-outline-secondary">
        <i class="bi bi-bar-chart"></i> {{ main_votos_label }}
      </a>
      <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="visually-hidden">Toggle Dropdown</span>
      </button>
      <ul class="dropdown-menu">
        {% for item in votos_items %}
          <li>
            <a class="dropdown-item" href="{{ item.url }}" title="{{ item.descricao }}">
              <i class="bi bi-graph-up"></i> Votos oficiais {{ item.id }}
            </a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <button class="btn btn-outline-secondary" disabled title="Nenhuma votação oficial encontrada">
        <i class="bi bi-bar-chart"></i> Votos oficiais
      </button>
    {% endif %}
  </div>

  {# Button: Editar votações VoteBem #}
  {% if editar_votacoes_url %}
    <a href="{{ editar_votacoes_url }}" class="btn btn-outline-success">
      <i class="bi bi-pencil-square"></i> Editar votações VoteBem
    </a>
  {% else %}
    <button class="btn btn-outline-success" disabled title="Proposição não identificada">
      <i class="bi bi-pencil-square"></i> Editar votações VoteBem
    </button>
  {% endif %}
</div>